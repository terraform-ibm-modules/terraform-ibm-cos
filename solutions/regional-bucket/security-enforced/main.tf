module "regional_bucket" {
  source                              = "../fully-configurable"
  ibmcloud_api_key                    = var.ibmcloud_api_key
  prefix                              = var.prefix
  provider_visibility                 = "private"
  kms_encryption_enabled              = true
  existing_kms_instance_crn           = var.existing_kms_instance_crn
  skip_cos_kms_iam_auth_policy        = var.skip_cos_kms_iam_auth_policy
  existing_kms_key_crn                = var.existing_kms_key_crn
  kms_endpoint_type                   = "private"
  cos_key_ring_name                   = var.cos_key_ring_name
  cos_key_name                        = var.cos_key_name
  ibmcloud_kms_api_key                = var.ibmcloud_kms_api_key
  existing_cos_instance_crn           = var.existing_cos_instance_crn
  bucket_access_tags                  = var.bucket_access_tags
  bucket_name                         = var.bucket_name
  management_endpoint_type_for_bucket = var.management_endpoint_type_for_bucket
  region                              = var.region
  bucket_storage_class                = var.bucket_storage_class
  force_delete                        = var.force_delete
  add_bucket_name_suffix              = var.add_bucket_name_suffix
  bucket_hard_quota                   = var.bucket_hard_quota
  expire_filter_prefix                = var.expire_filter_prefix
  archive_filter_prefix               = var.archive_filter_prefix
  archive_days                        = var.archive_days
  archive_type                        = var.archive_type
  expire_days                         = var.expire_days
  noncurrent_expire_days              = var.noncurrent_expire_days
  noncurrent_expire_filter_prefix     = var.noncurrent_expire_filter_prefix
  abort_multipart_days                = var.abort_multipart_days
  abort_multipart_filter_prefix       = var.abort_multipart_filter_prefix
  enable_replication                  = var.enable_replication
  replication_destination_bucket_name = var.replication_destination_bucket_name
  replication_bucket_region           = var.replication_bucket_region
  replication_priority                = var.replication_priority
  replication_prefix                  = var.replication_prefix
  replication_rule_id                 = var.replication_rule_id
  monitoring_crn                      = var.monitoring_crn
  enable_object_versioning            = var.enable_object_versioning
  enable_retention                    = var.enable_retention
  default_retention_days              = var.default_retention_days
  maximum_retention_days              = var.maximum_retention_days
  minimum_retention_days              = var.minimum_retention_days
  enable_permanent_retention          = var.enable_permanent_retention
  enable_object_locking               = var.enable_object_locking
  object_lock_duration_days           = var.object_lock_duration_days
  object_lock_duration_years          = var.object_lock_duration_years
  cos_bucket_cbr_rules                = var.cos_bucket_cbr_rules
}
