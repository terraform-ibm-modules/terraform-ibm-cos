{
  "path": ".",
  "variables": {
    "activity_tracker_crn": {
      "name": "activity_tracker_crn",
      "type": "string",
      "description": "Activity tracker crn for COS bucket (Optional)",
      "pos": {
        "filename": "variables.tf",
        "line": 22
      }
    },
    "archive_days": {
      "name": "archive_days",
      "type": "number",
      "description": "Specifies the number of days when the archive rule action takes effect.",
      "default": 90,
      "pos": {
        "filename": "variables.tf",
        "line": 189
      }
    },
    "archive_type": {
      "name": "archive_type",
      "type": "string",
      "description": "Specifies the storage class or archive type to which you want the object to transition.",
      "default": "Glacier",
      "pos": {
        "filename": "variables.tf",
        "line": 195
      }
    },
    "bucket_infix": {
      "name": "bucket_infix",
      "type": "string",
      "description": "Custom infix for use in cos bucket name (Optional)",
      "pos": {
        "filename": "variables.tf",
        "line": 16
      }
    },
    "cos_instance_name": {
      "name": "cos_instance_name",
      "type": "string",
      "description": "The name to give the COS instance that will be provisioned by this module, if no value is passed the default name will be '{var.environment_name}-cos'. This variable will be ignored if a value is passed for 'var.existing_cos_instance_guid'.",
      "pos": {
        "filename": "variables.tf",
        "line": 52
      }
    },
    "cos_key_name": {
      "name": "cos_key_name",
      "type": "list(string)",
      "description": "List of strings containing the list of desired Key Protect Key names as the values for each Key Ring, this Key Protect Key is used to encrypt the data in the COS Bucket",
      "default": [
        "cos-key"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 171
      }
    },
    "cos_key_ring_name": {
      "name": "cos_key_ring_name",
      "type": "string",
      "description": "A String containing the desired Key Ring Names as the key of the map for the key protect instance, this Key Protect Key is used to encrypt the data in the COS Bucket",
      "default": "cos-key-ring",
      "pos": {
        "filename": "variables.tf",
        "line": 165
      }
    },
    "cos_location": {
      "name": "cos_location",
      "type": "string",
      "description": "Location of the cloud object storage instance",
      "default": "global",
      "required": true,
      "source": [
        "ibm_resource_instance.cos_instance.location"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 75
      },
      "cloud_data_type": "region",
      "immutable": true
    },
    "cos_plan": {
      "name": "cos_plan",
      "type": "string",
      "description": "Plan to be used for creating cloud object storage instance",
      "default": "standard",
      "required": true,
      "source": [
        "ibm_resource_instance.cos_instance.plan"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 65
      }
    },
    "cos_tags": {
      "name": "cos_tags",
      "type": "list(string)",
      "description": "Optional list of tags to be added to cloud object storage instance.",
      "default": [],
      "source": [
        "ibm_resource_instance.cos_instance.tags"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 81
      },
      "min_length": 1,
      "max_length": 128,
      "matches": "^[A-Za-z0-9:_ .-]+$",
      "computed": true,
      "elem": {
        "type": "TypeString"
      }
    },
    "create_cos_bucket": {
      "name": "create_cos_bucket",
      "type": "bool",
      "description": "Set as true to create a new Cloud Object Storage bucket",
      "default": true,
      "pos": {
        "filename": "variables.tf",
        "line": 46
      }
    },
    "create_cos_instance": {
      "name": "create_cos_instance",
      "type": "bool",
      "description": "Set as true to create a new Cloud Object Storage instance",
      "default": true,
      "source": [
        "ibm_resource_instance.cos_instance.count"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 40
      }
    },
    "create_key_protect_instance": {
      "name": "create_key_protect_instance",
      "type": "bool",
      "description": "Set as true to create a new Key Protect instance, this instance will store the Key used to encrypt the data in the COS Bucket",
      "default": true,
      "source": [
        "module.kp_all_inclusive.module.key_protect"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 141
      }
    },
    "create_key_protect_key": {
      "name": "create_key_protect_key",
      "type": "bool",
      "description": "Set as true to create a new Key Protect Key, this Key Protect Key is used to encrypt the COS Bucket",
      "default": true,
      "pos": {
        "filename": "variables.tf",
        "line": 177
      }
    },
    "encryption_enabled": {
      "name": "encryption_enabled",
      "type": "bool",
      "description": "Set as true to use Key Protect encryption to encrypt data in COS bucket",
      "default": true,
      "source": [
        "ibm_cos_bucket.cos_bucket.count",
        "ibm_cos_bucket.cos_bucket1.count",
        "module.kp_all_inclusive"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 135
      }
    },
    "environment_name": {
      "name": "environment_name",
      "type": "string",
      "description": "Prefix name for all related resources",
      "required": true,
      "source": [
        "ibm_cos_bucket.cos_bucket.bucket_name",
        "ibm_cos_bucket.cos_bucket1.bucket_name",
        "module.kp_all_inclusive"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 11
      },
      "immutable": true
    },
    "existing_cos_instance_id": {
      "name": "existing_cos_instance_id",
      "type": "string",
      "description": "The ID of an existing COS instance, required if 'var.create_cos_instance' is false.",
      "pos": {
        "filename": "variables.tf",
        "line": 58
      }
    },
    "existing_key_protect_instance_guid": {
      "name": "existing_key_protect_instance_guid",
      "type": "string",
      "description": "The GUID of an existing Key Protect instance, required if 'var.create_key_protect_instance' is false.",
      "source": [
        "module.kp_all_inclusive"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 147
      }
    },
    "expire_days": {
      "name": "expire_days",
      "type": "number",
      "description": "Specifies the number of days when the expire rule action takes effect.",
      "default": 365,
      "pos": {
        "filename": "variables.tf",
        "line": 205
      }
    },
    "key_protect_instance_name": {
      "name": "key_protect_instance_name",
      "type": "string",
      "description": "The name to give the Key Protect instance that will be provisioned by this module, this variable will be ignored if a value is passed for 'var.existing_key_protect_instance_guid'.",
      "required": true,
      "source": [
        "module.kp_all_inclusive.module.key_protect.ibm_resource_instance.key_protect_instance.name"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 153
      }
    },
    "key_protect_key_crn": {
      "name": "key_protect_key_crn",
      "type": "string",
      "description": "CRN of the Key Protect Key to use if not creating a Key in this module, this Key Protect Key is used to encrypt the data in the COS Bucket",
      "pos": {
        "filename": "variables.tf",
        "line": 183
      }
    },
    "key_protect_tags": {
      "name": "key_protect_tags",
      "type": "list(string)",
      "description": "Optional list of tags to be added to Key Protect instance.",
      "default": [],
      "source": [
        "module.kp_all_inclusive.module.key_protect.ibm_resource_instance.key_protect_instance.tags"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 159
      },
      "min_length": 1,
      "max_length": 128,
      "matches": "^[A-Za-z0-9:_ .-]+$",
      "computed": true,
      "elem": {
        "type": "TypeString"
      }
    },
    "object_versioning_enabled": {
      "name": "object_versioning_enabled",
      "type": "bool",
      "description": "Enable object versioning to keep multiple versions of an object in a bucket. Cannot be used with retention rule.",
      "default": false,
      "pos": {
        "filename": "variables.tf",
        "line": 129
      }
    },
    "region": {
      "name": "region",
      "type": "string",
      "description": "Name of the Region to deploy in to",
      "default": "us-south",
      "required": true,
      "source": [
        "ibm_cos_bucket.cos_bucket.region_location",
        "ibm_cos_bucket.cos_bucket1.region_location",
        "module.kp_all_inclusive.module.key_protect.ibm_resource_instance.key_protect_instance.location",
        "module.kp_all_inclusive.module.key_protect.restapi_object.enable_metrics.create_path",
        "module.kp_all_inclusive.module.key_protect.restapi_object.enable_metrics.destroy_path",
        "module.kp_all_inclusive.module.key_protect.restapi_object.enable_metrics.path",
        "module.kp_all_inclusive.module.key_protect.restapi_object.enable_metrics.read_path",
        "module.kp_all_inclusive.module.key_protect.restapi_object.enable_metrics.update_path"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 34
      },
      "cloud_data_type": "region",
      "immutable": true
    },
    "resource_group_id": {
      "name": "resource_group_id",
      "type": "string",
      "description": "The resource group ID where the environment will be created",
      "required": true,
      "source": [
        "ibm_resource_instance.cos_instance.resource_group_id",
        "module.kp_all_inclusive.module.key_protect.ibm_resource_instance.key_protect_instance.resource_group_id"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 6
      },
      "cloud_data_type": "resource_group",
      "immutable": true,
      "computed": true,
      "cloud_data_range": [
        "resolved_to:id"
      ]
    },
    "retention_default": {
      "name": "retention_default",
      "type": "number",
      "description": "Specifies default duration of time an object that can be kept unmodified for COS bucket",
      "default": 90,
      "pos": {
        "filename": "variables.tf",
        "line": 93
      }
    },
    "retention_enabled": {
      "name": "retention_enabled",
      "type": "bool",
      "description": "Retention enabled for COS bucket",
      "default": true,
      "pos": {
        "filename": "variables.tf",
        "line": 87
      }
    },
    "retention_maximum": {
      "name": "retention_maximum",
      "type": "number",
      "description": "Specifies maximum duration of time an object that can be kept unmodified for COS bucket",
      "default": 350,
      "pos": {
        "filename": "variables.tf",
        "line": 103
      }
    },
    "retention_minimum": {
      "name": "retention_minimum",
      "type": "number",
      "description": "Specifies minimum duration of time an object must be kept unmodified for COS bucket",
      "default": 90,
      "pos": {
        "filename": "variables.tf",
        "line": 113
      }
    },
    "retention_permanent": {
      "name": "retention_permanent",
      "type": "bool",
      "description": "Specifies a permanent retention status either enable or disable for COS bucket",
      "default": false,
      "pos": {
        "filename": "variables.tf",
        "line": 123
      }
    },
    "sysdig_crn": {
      "name": "sysdig_crn",
      "type": "string",
      "description": "Sysdig Monitoring crn for COS bucket (Optional)",
      "pos": {
        "filename": "variables.tf",
        "line": 28
      }
    }
  },
  "outputs": {
    "bucket_id": {
      "name": "bucket_id",
      "description": "Bucket id",
      "value": "local.bucket_id",
      "pos": {
        "filename": "outputs.tf",
        "line": 19
      }
    },
    "bucket_name": {
      "name": "bucket_name",
      "description": "Bucket Name",
      "value": "local.bucket_name",
      "pos": {
        "filename": "outputs.tf",
        "line": 24
      }
    },
    "cos_instance_id": {
      "name": "cos_instance_id",
      "description": "The ID of the Cloud Object Storage Instance where the buckets are created",
      "value": "local.cos_instance_id",
      "pos": {
        "filename": "outputs.tf",
        "line": 39
      }
    },
    "key_protect_instance_id": {
      "name": "key_protect_instance_id",
      "description": "The GUID of the Key Protect Instance where the Key to encrypt the COS Bucket is stored",
      "pos": {
        "filename": "outputs.tf",
        "line": 29
      }
    },
    "key_protect_key_crn": {
      "name": "key_protect_key_crn",
      "description": "The CRN of the Key Protect Key used to encrypt the COS Bucket",
      "value": "local.key_crn",
      "pos": {
        "filename": "outputs.tf",
        "line": 34
      }
    },
    "resource_group_id": {
      "name": "resource_group_id",
      "description": "The resource group ID where the environment will be created",
      "value": "var.resource_group_id",
      "pos": {
        "filename": "outputs.tf",
        "line": 4
      },
      "type": "string",
      "cloud_data_type": "resource_group",
      "cloud_data_range": [
        "resolved_to:id"
      ]
    },
    "s3_endpoint_private": {
      "name": "s3_endpoint_private",
      "description": "S3 private endpoint",
      "value": "local.s3_endpoint_private",
      "pos": {
        "filename": "outputs.tf",
        "line": 9
      }
    },
    "s3_endpoint_public": {
      "name": "s3_endpoint_public",
      "description": "S3 public endpoint",
      "value": "local.s3_endpoint_public",
      "pos": {
        "filename": "outputs.tf",
        "line": 14
      }
    }
  },
  "required_core": [
    "\u003e= 1.0.0"
  ],
  "required_providers": {
    "ibm": {
      "source": "ibm-cloud/ibm",
      "version_constraints": [
        "\u003e= 1.48.0"
      ]
    },
    "restapi": {
      "source": "Mastercard/restapi",
      "version_constraints": [
        "\u003e=1.18.0"
      ]
    }
  },
  "managed_resources": {
    "ibm_cos_bucket.cos_bucket": {
      "mode": "managed",
      "type": "ibm_cos_bucket",
      "name": "cos_bucket",
      "attributes": {
        "bucket_name": "environment_name",
        "count": "encryption_enabled",
        "region_location": "region"
      },
      "provider": {
        "name": "ibm"
      },
      "pos": {
        "filename": "main.tf",
        "line": 89
      }
    },
    "ibm_cos_bucket.cos_bucket1": {
      "mode": "managed",
      "type": "ibm_cos_bucket",
      "name": "cos_bucket1",
      "attributes": {
        "bucket_name": "environment_name",
        "count": "encryption_enabled",
        "region_location": "region"
      },
      "provider": {
        "name": "ibm"
      },
      "pos": {
        "filename": "main.tf",
        "line": 163
      }
    },
    "ibm_iam_authorization_policy.policy": {
      "mode": "managed",
      "type": "ibm_iam_authorization_policy",
      "name": "policy",
      "provider": {
        "name": "ibm"
      },
      "pos": {
        "filename": "main.tf",
        "line": 74
      }
    },
    "ibm_resource_instance.cos_instance": {
      "mode": "managed",
      "type": "ibm_resource_instance",
      "name": "cos_instance",
      "attributes": {
        "count": "create_cos_instance",
        "location": "cos_location",
        "plan": "cos_plan",
        "resource_group_id": "resource_group_id",
        "tags": "cos_tags"
      },
      "provider": {
        "name": "ibm"
      },
      "pos": {
        "filename": "main.tf",
        "line": 57
      }
    }
  },
  "data_resources": {},
  "module_calls": {
    "kp_all_inclusive": {
      "name": "kp_all_inclusive",
      "source": "git::https://github.com/terraform-ibm-modules/terraform-ibm-key-protect-all-inclusive.git?ref=v2.0.0",
      "attributes": {
        "count": "encryption_enabled",
        "create_key_protect_instance": "create_key_protect_instance",
        "existing_key_protect_instance_guid": "existing_key_protect_instance_guid",
        "key_protect_instance_name": "key_protect_instance_name",
        "prefix": "environment_name",
        "region": "region",
        "resource_group_id": "resource_group_id",
        "resource_tags": "key_protect_tags"
      },
      "managed_resources": {},
      "data_resources": {
        "data.ibm_kms_key_rings.existing_key_rings": {
          "mode": "data",
          "type": "ibm_kms_key_rings",
          "name": "existing_key_rings",
          "attributes": {
            "count": "use_existing_key_rings"
          },
          "provider": {
            "name": "ibm"
          },
          "pos": {
            "filename": ".terraform/modules/kp_all_inclusive/main.tf",
            "line": 38
          }
        }
      },
      "outputs": {
        "existing_key_ring_keys": {
          "name": "existing_key_ring_keys",
          "description": "IDs of Keys created by the module in existing Key Rings",
          "value": "module.existing_key_ring_keys",
          "pos": {
            "filename": ".terraform/modules/kp_all_inclusive/outputs.tf",
            "line": 32
          }
        },
        "key_protect_guid": {
          "name": "key_protect_guid",
          "description": "Key Protect GUID",
          "value": "local.key_protect_guid",
          "pos": {
            "filename": ".terraform/modules/kp_all_inclusive/outputs.tf",
            "line": 5
          }
        },
        "key_protect_name": {
          "name": "key_protect_name",
          "description": "Key Protect Name",
          "pos": {
            "filename": ".terraform/modules/kp_all_inclusive/outputs.tf",
            "line": 13
          }
        },
        "key_rings": {
          "name": "key_rings",
          "description": "IDs of Key Rings created by the module",
          "value": "module.key_protect_key_rings",
          "pos": {
            "filename": ".terraform/modules/kp_all_inclusive/outputs.tf",
            "line": 20
          }
        },
        "keys": {
          "name": "keys",
          "description": "IDs of Keys created by the module",
          "value": "module.key_protect_keys",
          "pos": {
            "filename": ".terraform/modules/kp_all_inclusive/outputs.tf",
            "line": 27
          }
        }
      },
      "pos": {
        "filename": "main.tf",
        "line": 43
      }
    }
  }
}
